(function(){var c,b=function(d,e){return function(){return d.apply(e,arguments)}},a={}.hasOwnProperty;c=(function(){var f,e,d;d=1;f=-1;e=0;function g(){this.patch_apply_with_offsets=b(this.patch_apply_with_offsets,this);this.transform_object_diff=b(this.transform_object_diff,this);this.transform_list_diff_dmp=b(this.transform_list_diff_dmp,this);this.transform_list_diff=b(this.transform_list_diff,this);this.apply_diff=b(this.apply_diff,this);this.apply_object_diff_with_offsets=b(this.apply_object_diff_with_offsets,this);this.apply_object_diff=b(this.apply_object_diff,this);this.apply_list_diff_dmp=b(this.apply_list_diff_dmp,this);this.apply_list_diff=b(this.apply_list_diff,this);this.diff=b(this.diff,this);this.object_diff=b(this.object_diff,this);this._text_to_array=b(this._text_to_array,this);this._serialize_to_text=b(this._serialize_to_text,this);this.list_diff_dmp=b(this.list_diff_dmp,this);this.list_diff=b(this.list_diff,this);this._common_suffix=b(this._common_suffix,this);this._common_prefix=b(this._common_prefix,this);this.object_equals=b(this.object_equals,this);this.list_equals=b(this.list_equals,this);this.equals=b(this.equals,this);this.deepCopy=b(this.deepCopy,this);this.typeOf=b(this.typeOf,this);this.entries=b(this.entries,this);this.dmp=new diff_match_patch()}g.prototype.entries=function(j){var h,k,i;k=0;for(h in j){if(!a.call(j,h)){continue}i=j[h];k++}return k};g.prototype.typeOf=function(i){var h;h=typeof i;if(h==="object"){if(i){if(typeof i.length==="number"&&typeof i.splice==="function"&&!i.propertyIsEnumerable("length")){h="array"}}else{h="null"}}return h};g.prototype.deepCopy=function(h){return JSON.parse(JSON.stringify(h))};g.prototype.equals=function(j,i){var h,k;h=this.typeOf(j);k=this.typeOf(i);if(h==="boolean"&&k==="number"){return Number(j)===i}if(h==="number"&&k==="boolean"){return Number(i)===j}if(h!==k){return false}if(h==="array"){return this.list_equals(j,i)}else{if(h==="object"){return this.object_equals(j,i)}else{return j===i}}};g.prototype.list_equals=function(j,h){var l,k,m;l=j.length;if(l!==h.length){return false}for(k=m=0;0<=l?m<l:m>l;k=0<=l?++m:--m){if(!this.equals(j[k],h[k])){return false}}return true};g.prototype.object_equals=function(i,h){var j;for(j in i){if(!a.call(i,j)){continue}if(!(j in h)){return false}if(!this.equals(i[j],h[j])){return false}}for(j in h){if(!a.call(h,j)){continue}if(!(j in i)){return false}}return true};g.prototype._common_prefix=function(j,h){var k,l,m;l=Math.min(j.length,h.length);for(k=m=0;0<=l?m<l:m>l;k=0<=l?++m:--m){if(!this.equals(j[k],h[k])){return k}}return l};g.prototype._common_suffix=function(j,h){var k,o,n,l,m;o=j.length;n=h.length;l=Math.min(j.length,h.length);if(l===0){return 0}for(k=m=0;0<=l?m<l:m>l;k=0<=l?++m:--m){if(!this.equals(j[o-k-1],h[n-k-1])){return k}}return l};g.prototype.list_diff=function(s,r,q){var p,n,l,j,k,h,o,m;if((q!=null)&&"item" in q){q=q.item}else{q=null}p={};l=s.length;j=r.length;h=this._common_prefix(s,r);o=this._common_suffix(s,r);s=s.slice(h,l-o);r=r.slice(h,j-o);l=s.length;j=r.length;k=Math.max(l,j);for(n=m=0;0<=k?m<=k:m>=k;n=0<=k?++m:--m){if(n<l&&n<j){if(!this.equals(s[n],r[n])){p[n+h]=this.diff(s[n],r[n],q)}}else{if(n<l){p[n+h]={o:"-"}}else{if(n<j){p[n+h]={o:"+",v:r[n]}}}}}return p};g.prototype.list_diff_dmp=function(o,n,m){var k,j,p,l,i,h;i=o.length;h=n.length;k=this._serialize_to_text(o);j=this._serialize_to_text(n);l=this.dmp.diff_lineMode_(k,j);this.dmp.diff_cleanupEfficiency(l);p=this.dmp.diff_toDelta(l);return p};g.prototype._serialize_to_text=function(j){var k,l,m,h;l="";for(m=0,h=j.length;m<h;m++){k=j[m];l+=""+(JSON.stringify(k))+"\n"}return l};g.prototype._text_to_array=function(k){var j,i,h;j=[];i=k.split("\n");j=(function(){var n,m,l;l=[];for(n=0,m=i.length;n<m;n++){h=i[n];if(h.length>0){l.push(JSON.parse(h))}}return l})();return j};g.prototype.object_diff=function(i,h,m){var l,k,j;l={};if((m!=null)&&"attributes" in m){m=m.attributes}if((i==null)||(h==null)){return{}}for(k in i){if(!a.call(i,k)){continue}if((m!=null)&&k in m){j=m[k]}else{j=null}if(k in h){if(!this.equals(i[k],h[k])){l[k]=this.diff(i[k],h[k],j)}}else{l[k]={o:"-"}}}for(k in h){if(!a.call(h,k)){continue}if(!(k in i)&&(h[k]!=null)){l[k]={o:"+",v:h[k]}}}return l};g.prototype.diff=function(k,j,m){var l,i,h;if(this.equals(k,j)){return{}}if((m!=null)&&"attributes" in m){m=m.attributes}if((m!=null)&&"otype" in m){i=m.otype;switch(i){case"replace":return{o:"r",v:j};case"list":return{o:"L",v:this.list_diff(k,j,m)};case"list_dmp":return{o:"dL",v:this.list_diff_dmp(k,j,m)};case"integer":return{o:"I",v:j-k};case"string":l=this.dmp.diff_main(k,j);if(l.length>2){this.dmp.diff_cleanupEfficiency(l)}if(l.length>0){return{o:"d",v:this.dmp.diff_toDelta(l)}}}}h=this.typeOf(k);if(h!==this.typeOf(j)){return{o:"r",v:j}}switch(h){case"boolean":return{o:"r",v:j};case"number":return{o:"r",v:j};case"array":return{o:"r",v:j};case"object":return{o:"O",v:this.object_diff(k,j,m)};case"string":l=this.dmp.diff_main(k,j);if(l.length>2){this.dmp.diff_cleanupEfficiency(l)}if(l.length>0){return{o:"d",v:this.dmp.diff_toDelta(l)}}}return{}};g.prototype.apply_list_diff=function(r,h){var q,p,t,u,l,k,A,m,v,z,w,o,i,y,n,j;v=this.deepCopy(r);k=[];q=[];for(A in h){if(!a.call(h,A)){continue}k.push(A);k.sort()}for(i=0,y=k.length;i<y;i++){l=k[i];m=h[l];w=((function(){var B,x,s;s=[];for(B=0,x=q.length;B<x;B++){o=q[B];if(o<=l){s.push(o)}}return s})()).length;z=l-w;switch(m.o){case"+":[].splice.apply(v,[z,(z-1)-z+1].concat(n=m.v)),n;break;case"-":[].splice.apply(v,[z,z-z+1].concat(j=[])),j;q[q.length]=z;break;case"r":v[z]=m.v;break;case"I":v[z]+=m.v;break;case"L":v[z]=this.apply_list_diff(v[z],m.v);break;case"dL":v[z]=this.apply_list_diff_dmp(v[z],m.v);break;case"O":v[z]=this.apply_object_diff(v[z],m.v);break;case"d":p=this.dmp.diff_fromDelta(v[z],m.v);t=this.dmp.patch_make(v[z],p);u=this.dmp.patch_apply(t,v[z]);v[z]=u[0]}}return v};g.prototype.apply_list_diff_dmp=function(k,m){var h,j,i,l;l=this._serialize_to_text(k);h=this.dmp.diff_fromDelta(l,m);j=this.dmp.patch_make(l,h);i=this.dmp.patch_apply(j,l);return this._text_to_array(i[0])};g.prototype.apply_object_diff=function(i,k){var h,l,j;j=this.deepCopy(i);for(h in k){if(!a.call(k,h)){continue}l=k[h];if(l.o==="-"){delete j[h]}else{j[h]=this.apply_diff(j[h],l)}}return j};g.prototype.apply_object_diff_with_offsets=function(p,k,n,i){var h,q,l,o,j,m;m=this.deepCopy(p);for(o in k){if(!a.call(k,o)){continue}j=k[o];switch(j.o){case"+":m[o]=j.v;break;case"-":delete m[o];break;case"r":m[o]=j.v;break;case"I":m[o]+=j.v;break;case"L":m[o]=this.apply_list_diff(m[o],j.v);break;case"O":m[o]=this.apply_object_diff(m[o],j.v);break;case"d":h=this.dmp.diff_fromDelta(m[o],j.v);q=this.dmp.patch_make(m[o],h);if(o===n){m[o]=this.patch_apply_with_offsets(q,m[o],i)}else{l=this.dmp.patch_apply(q,m[o]);m[o]=l[0]}}}return m};g.prototype.apply_diff=function(i,l){var h,k,j;switch(l.o){case"+":return l.v;case"-":return null;case"r":return l.v;case"I":return i+l.v;case"L":return this.apply_list_diff(i,l.v);case"dL":return this.apply_list_diff_dmp(i,l.v);case"O":return this.apply_object_diff(i,l.v);case"d":h=this.dmp.diff_fromDelta(i,l.v);k=this.dmp.patch_make(i,h);j=this.dmp.patch_apply(k,i);return j[0]}};g.prototype.transform_list_diff=function(y,j,u,r){var l,w,A,q,k,v,i,m,n,h,z,p,t,o;l={};A=[];w=[];if((r!=null)&&"item" in r){r=r.item}else{r=null}for(k in j){if(!a.call(j,k)){continue}m=j[k];k=parseInt(k);if(m.o==="+"){A.push(k)}if(m.o==="-"){w.push(k)}}v=0;i=0;for(k in y){if(!a.call(y,k)){continue}m=y[k];k=parseInt(k);z=((function(){var B,x,s;s=[];for(B=0,x=A.length;B<x;B++){o=A[B];if(o<k){s.push(o)}}return s})()).length;h=((function(){var B,x,s;s=[];for(B=0,x=w.length;B<x;B++){o=w[B];if(o<k){s.push(o)}}return s})()).length;if(v+1===k){k=k+i}else{k=k+z-h}v=k;i=z-h;p=String(k);l[p]=m;if(p in j){if(m.o==="+"&&j[k]["o"]==="+"){continue}else{if(m.o==="-"){if(j[k]["o"]==="-"){delete l[p]}}else{if(j[k]["o"]==="-"){if(m.o==="r"){l[p]={o:"+",v:m.v}}if(m.o===!"+"){l[p]={o:"+",v:this.apply_object_diff(u[p],m.v)}}}else{t={};t[p]=m;n={};n[p]=j[k];q=this.transform_object_diff(t,n,u,r);l[p]=q[p]}}}}}return l};g.prototype.transform_list_diff_dmp=function(p,l,q,m){var i,j,k,n,h,o;o=this._serialize_to_text(q);i=this.dmp.patch_make(o,this.dmp.diff_fromDelta(o,p));k=this.dmp.patch_make(o,this.dmp.diff_fromDelta(o,l));n=(this.dmp.patch_apply(k,o))[0];j=(this.dmp.patch_apply(i,n))[0];if(j!==n){h=this.dmp.diff_lineMode_(n,j);if(h.length>2){this.dmp.diff_cleanupEfficiency(h)}if(h.length>0){return this.dmp.diff_toDelta(h)}}return""};g.prototype.transform_object_diff=function(u,n,w,p){var i,k,v,o,m,q,r,h,t,j,l;v=this.deepCopy(u);if((p!=null)&&"attributes" in p){p=p.attributes}for(t in u){if(!a.call(u,t)){continue}o=u[t];if(!(t in n)){continue}if((p!=null)&&"attributes" in p){p=p.attributes;if((p!=null)&&t in p){p=p[t]}else{p=null}}else{p=null}j=w[t];r=n[t];if(o.o==="+"&&r.o==="+"){if(this.equals(o.v,r.v)){delete v[t]}else{v[t]=this.diff(r.v,o.v,p)}}else{if(o.o==="-"&&r.o==="-"){delete v[t]}else{if(r.o==="-"&&((l=o.o)!=="+"&&l!=="-")){v[t]={o:"+"};v[t]["v"]=this.apply_diff(j,o)}else{if(o.o==="O"&&r.o==="O"){v[t]={o:"O",v:this.transform_object_diff(o.v,r.v,j,p)}}else{if(o.o==="L"&&r.o==="L"){v[t]={o:"L",v:this.transform_list_diff(o.v,r.v,j,p)}}else{if(o.o==="dL"&&r.o==="dL"){v[t]={o:"dL",v:this.transform_list_diff_dmp(o.v,r.v,j,p)}}else{if(o.o==="d"&&r.o==="d"){delete v[t];i=this.dmp.patch_make(j,this.dmp.diff_fromDelta(j,o.v));m=this.dmp.patch_make(j,this.dmp.diff_fromDelta(j,r.v));q=(this.dmp.patch_apply(m,j))[0];k=(this.dmp.patch_apply(i,q))[0];if(k!==q){h=this.dmp.diff_main(q,k);if(h.length>2){this.dmp.diff_cleanupEfficiency(h)}if(h.length>0){v[t]={o:"d",v:this.dmp.diff_toDelta(h)}}}}}}}}}}return v}};g.prototype.patch_apply_with_offsets=function(w,E,t){var v,H,I,j,q,r,G,u,s,J,K,F,D,B,C,A,n,l,k,h,z,p,o,m;if(w.length===0){return E}w=this.dmp.patch_deepCopy(w);K=this.dmp.patch_addPadding(w);E=K+E+K;this.dmp.patch_splitMax(w);I=0;for(C=n=0,z=w.length;0<=z?n<z:n>z;C=0<=z?++n:--n){r=w[C].start2+I;D=this.dmp.diff_text1(w[C].diffs);q=-1;if(D.length>this.dmp.Match_MaxBits){F=this.dmp.match_main(E,D.substring(0,this.dmp.Match_MaxBits),r);if(F!==-1){q=this.dmp.match_main(E,D.substring(D.length-this.dmp.Match_MaxBits),r+D.length-this.dmp.Match_MaxBits);if(q===-1||F>=q){F=-1}}}else{F=this.dmp.match_main(E,D,r)}if(F===-1){I-=w[C].length2-w[C].length1}else{I=F-r;if(q===-1){B=E.substring(F,F+D.length)}else{B=E.substring(F,q+this.dmp.Match_MaxBits)}j=this.dmp.diff_main(D,B,false);if(D.length>this.dmp.Match_MaxBits&&this.dmp.diff_levenshtein(j)/D.length>this.dmp.Patch_DeleteThreshold){}else{u=0;for(A=l=0,p=w[C].diffs.length;0<=p?l<p:l>p;A=0<=p?++l:--l){J=w[C].diffs[A];if(J[0]!==e){s=this.dmp.diff_xIndex(j,u)}if(J[0]===d){E=E.substring(0,F+s)+J[1]+E.substring(F+s);for(G=k=0,o=t.length;0<=o?k<o:k>o;G=0<=o?++k:--k){if(t[G]+K.length>F+s){t[G]+=J[1].length}}}else{if(J[0]===f){H=F+s;v=F+this.dmp.diff_xIndex(j,u+J[1].length);E=E.substring(0,H)+E.substring(v);for(G=h=0,m=t.length;0<=m?h<m:h>m;G=0<=m?++h:--h){if(t[G]+K.length>H){if(t[G]+K.length<v){t[G]=H-K.length}else{t[G]-=v-H}}}}}if(J[0]!==f){u+=J[1].length}}}}}E=E.substring(K.length,E.length-K.length);return E};return g})();window.jsondiff=c}).call(this);