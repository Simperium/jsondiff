(function(){var c,b=function(d,e){return function(){return d.apply(e,arguments)}},a=Object.prototype.hasOwnProperty;c=(function(){function d(){this.patch_apply_with_offsets=b(this.patch_apply_with_offsets,this);this.transform_object_diff=b(this.transform_object_diff,this);this.transform_list_diff=b(this.transform_list_diff,this);this.apply_object_diff_with_offsets=b(this.apply_object_diff_with_offsets,this);this.apply_object_diff=b(this.apply_object_diff,this);this.apply_list_diff=b(this.apply_list_diff,this);this.diff=b(this.diff,this);this.object_diff=b(this.object_diff,this);this.list_diff=b(this.list_diff,this);this._common_suffix=b(this._common_suffix,this);this._common_prefix=b(this._common_prefix,this);this.object_equals=b(this.object_equals,this);this.list_equals=b(this.list_equals,this);this.equals=b(this.equals,this);this.deepCopy=b(this.deepCopy,this);this.typeOf=b(this.typeOf,this);this.entries=b(this.entries,this)}d.dmp=new diff_match_patch();d.prototype.entries=function(g){var e,h,f;h=0;for(e in g){if(!a.call(g,e)){continue}f=g[e];h++}return h};d.prototype.typeOf=function(f){var e;e=typeof f;if(e==="object"){if(f){if(typeof f.length==="number"&&typeof f.splice==="function"&&!f.propertyIsEnumerable("length")){e="array"}}else{e="null"}}return e};d.prototype.deepCopy=function(h){var f,e,g;if(Object.prototype.toString.call(h)==="[object Array]"){e=[];for(f=0,g=h.length;0<=g?f<g:f>g;0<=g?f++:f--){e[f]=arguments.callee(h[f])}return e}if(typeof h==="object"){e={};for(f in h){e[f]=arguments.callee(h[f])}return e}return h};d.prototype.equals=function(g,f){var e;e=this.typeOf(g);if(e!==this.typeOf(f)){return false}if(e==="array"){return this.list_equals(g,f)}else{if(e==="object"){return this.object_equals(g,f)}else{return g===f}}};d.prototype.list_equals=function(f,e){var h,g;h=f.length;if(h!==e.length){return false}for(g=0;0<=h?g<h:g>h;0<=h?g++:g--){if(!this.equals(f[g],e[g])){return false}}return true};d.prototype.object_equals=function(f,e){var g;for(g in f){if(!a.call(f,g)){continue}if(!(g in e)){return false}if(!this.equals(f[g],e[g])){return false}}for(g in e){if(!a.call(e,g)){continue}if(!(g in f)){return false}}return true};d.prototype._common_prefix=function(f,e){var g,h;h=Math.min(f.length,e.length);for(g=0;0<=h?g<h:g>h;0<=h?g++:g--){if(!this.equals(f[g],e[g])){return g}}return h};d.prototype._common_suffix=function(f,e){var g,k,j,h;k=f.length;j=e.length;h=Math.min(f.length,e.length);if(h===0){return 0}for(g=0;0<=h?g<h:g>h;0<=h?g++:g--){if(!this.equals(f[k-g-1],e[j-g-1])){return g}}return h};d.prototype.list_diff=function(n,m){var l,j,h,f,g,e,k;l={};h=n.length;f=m.length;e=this._common_prefix(n,m);k=this._common_suffix(n,m);n=n.slice(e,(h-k));m=m.slice(e,(f-k));h=n.length;f=m.length;g=Math.max(h,f);for(j=0;0<=g?j<=g:j>=g;0<=g?j++:j--){if(j<h&&j<f){if(!this.equals(n[j],m[j])){l[j+e]=this.diff(n[j],m[j])}}else{if(j<h){l[j+e]={o:"-"}}else{if(j<f){l[j+e]={o:"+",v:m[j]}}}}}return l};d.prototype.object_diff=function(f,e){var h,g;h={};if(!(f!=null)||!(e!=null)){return{}}for(g in f){if(!a.call(f,g)){continue}if(g in e){if(!this.equals(f[g],e[g])){h[g]=this.diff(f[g],e[g])}}else{h[g]={o:"-"}}}for(g in e){if(!a.call(e,g)){continue}if(!(g in f)&&(e[g]!=null)){h[g]={o:"+",v:e[g]}}}return h};d.prototype.diff=function(g,f){var h,e;if(this.equals(g,f)){return{}}e=this.typeOf(g);if(e!==this.typeOf(f)){return{o:"r",v:f}}switch(e){case"boolean":return{o:"r",v:f};case"number":return{o:"r",v:f};case"array":return{o:"r",v:f};case"object":return{o:"O",v:this.object_diff(g,f)};case"string":h=d.dmp.diff_main(g,f);if(h.length>2){d.dmp.diff_cleanupEfficiency(h)}if(h.length>0){return{o:"d",v:d.dmp.diff_toDelta(h)}}}return{}};d.prototype.apply_list_diff=function(o,e){var n,m,p,q,i,h,w,j,r,v,t,l,f,u,k,g;r=this.deepCopy(o);h=[];n=[];for(w in e){if(!a.call(e,w)){continue}h.push(w);h.sort()}for(f=0,u=h.length;f<u;f++){i=h[f];j=e[i];t=((function(){var y,s,x;x=[];for(y=0,s=n.length;y<s;y++){l=n[y];if(l<=i){x.push(l)}}return x})()).length;v=i-t;switch(j.o){case"+":[].splice.apply(r,[v,v-v+1].concat(k=j.v)),k;break;case"-":[].splice.apply(r,[v,v-v+1].concat(g=[])),g;n[n.length]=v;break;case"r":r[v]=j.v;break;case"I":r[v]+=j.v;break;case"L":r[v]=this.apply_list_diff(r[v],j.v);break;case"O":r[v]=this.apply_object_diff(r[v],j.v);break;case"d":m=d.dmp.diff_fromDelta(r[v],j.v);p=d.dmp.patch_make(r[v],m);q=d.dmp.patch_apply(p,r[v]);r[v]=q[0]}}return r};d.prototype.apply_object_diff=function(i,k){var e,h,f,g,l,j;j=this.deepCopy(i);for(g in k){if(!a.call(k,g)){continue}l=k[g];switch(l.o){case"+":j[g]=l.v;break;case"-":delete j[g];break;case"r":j[g]=l.v;break;case"I":j[g]+=l.v;break;case"L":j[g]=this.apply_list_diff(j[g],l.v);break;case"O":j[g]=this.apply_object_diff(j[g],l.v);break;case"d":e=d.dmp.diff_fromDelta(j[g],l.v);h=d.dmp.patch_make(j[g],e);f=d.dmp.patch_apply(h,j[g]);j[g]=f[0]}}return j};d.prototype.apply_object_diff_with_offsets=function(m,h,k,f){var e,n,i,l,g,j;j=this.deepCopy(m);for(l in h){if(!a.call(h,l)){continue}g=h[l];switch(g.o){case"+":j[l]=g.v;break;case"-":delete j[l];break;case"r":j[l]=g.v;break;case"I":j[l]+=g.v;break;case"L":j[l]=this.apply_list_diff(j[l],g.v);break;case"O":j[l]=this.apply_object_diff(j[l],g.v);break;case"d":e=d.dmp.diff_fromDelta(j[l],g.v);n=d.dmp.patch_make(j[l],e);if(l===k){j[l]=this.patch_apply_with_offsets(n,j[l],f)}else{i=d.dmp.patch_apply(n,j[l]);j[l]=i[0]}}}return j};d.prototype.transform_list_diff=function(n,g,q){var o,p,e,l,h,f,m,i,k,j;o={};e=[];p=[];for(h in g){if(!a.call(g,h)){continue}f=g[h];if(f.o==="+"){e.push(h)}if(f.o==="-"){p.push(h)}}for(h in n){if(!a.call(n,h)){continue}f=n[h];i=[(function(){var t,s,r;r=[];for(t=0,s=e.length;t<s;t++){j=e[t];if(j<=h){r.push(j)}}return r})()].length;m=[(function(){var t,s,r;r=[];for(t=0,s=p.length;t<s;t++){j=p[t];if(j<=h){r.push(j)}}return r})()].length;h=h+i-m;k=String(h);o[k]=f;if(h in g){if(f.o==="+"&&g.index.o==="+"){continue}else{if(f.o==="-"&&g.index.o==="-"){delete o[k]}else{l=this.transform_object_diff({sindex:f},{sindex:g.index},q);o[k]=l[k]}}}}return o};d.prototype.transform_object_diff=function(q,k,u){var f,h,r,m,j,n,o,e,t,l,p,g,i;r=this.deepCopy(q);for(p in q){if(!a.call(q,p)){continue}m=q[p];if(!(p in k)){continue}g=u[p];o=k[p];if(m.o==="+"&&o.o==="+"){if(this.equals(m.v,o.v)){delete r[p]}else{r[p]=this.diff(o.v,m.v)}}else{if(m.o==="-"&&o.o==="-"){delete r[p]}else{if(o.o==="-"&&((i=m.o)==="O"||i==="L"||i==="I"||i==="d")){r[p]={o:"+"};if(m.o==="O"){r[p]["v"]=this.apply_object_diff(g,m.v)}else{if(m.o==="L"){r[p]["v"]=this.apply_list_diff(g,m.v)}else{if(m.o==="I"){r[p]["v"]=g+m.v}else{if(m.o==="d"){e=d.dmp.diff_fromDelta(g,m.v);t=d.dmp.patch_make(g,e);l=d.dmp.patch_apply(t,g);r[p]["v"]=l[0]}else{delete r[p]}}}}}else{if(m.o==="O"&&o.o==="O"){r[p]={o:"O",v:this.transform_object_diff(m.v,o.v,g)}}else{if(m.o==="L"&&o.o==="L"){r[p]={o:"O",v:this.transform_list_diff(m.v,o.v,g)}}else{if(m.o==="d"&&o.o==="d"){delete r[p];f=d.dmp.patch_make(g,d.dmp.diff_fromDelta(g,m.v));j=d.dmp.patch_make(g,d.dmp.diff_fromDelta(g,o.v));n=(d.dmp.patch_apply(j,g))[0];h=(d.dmp.patch_apply(f,n))[0];if(h!==n){e=d.dmp.diff_main(n,h);if(e.length>2){d.dmp.diff_cleanupEfficiency(e)}if(e.length>0){r[p]={o:"d",v:d.dmp.diff_toDelta(e)}}}}}}}}}return r}};d.prototype.patch_apply_with_offsets=function(e,g,f){};d.prototype.patch_apply_with_offsets=function(m,r,j){if(m.length==0){return r}m=d.dmp.patch_deepCopy(m);var z=d.dmp.patch_addPadding(m);r=z+r+z;d.dmp.patch_splitMax(m);var v=0;for(var p=0;p<m.length;p++){var g=m[p].start2+v;var q=d.dmp.diff_text1(m[p].diffs);var s;var f=-1;if(q.length>d.dmp.Match_MaxBits){s=d.dmp.match_main(r,q.substring(0,d.dmp.Match_MaxBits),g);if(s!=-1){f=d.dmp.match_main(r,q.substring(q.length-d.dmp.Match_MaxBits),g+q.length-d.dmp.Match_MaxBits);if(f==-1||s>=f){s=-1}}}else{s=d.dmp.match_main(r,q,g)}if(s==-1){v-=m[p].length2-m[p].length1}else{v=s-g;var o;if(f==-1){o=r.substring(s,s+q.length)}else{o=r.substring(s,f+d.dmp.Match_MaxBits)}var e=d.dmp.diff_main(q,o,false);if(q.length>d.dmp.Match_MaxBits&&d.dmp.diff_levenshtein(e)/q.length>d.dmp.Patch_DeleteThreshold){}else{var k=0;var h;for(var n=0;n<m[p].diffs.length;n++){var w=m[p].diffs[n];if(w[0]!==DIFF_EQUAL){h=d.dmp.diff_xIndex(e,k)}if(w[0]===DIFF_INSERT){r=r.substring(0,s+h)+w[1]+r.substring(s+h);for(var t=0;t<j.length;t++){if(j[t]+z.length>s+h){j[t]+=w[1].length}}}else{if(w[0]===DIFF_DELETE){var u=s+h;var l=s+d.dmp.diff_xIndex(e,k+w[1].length);r=r.substring(0,u)+r.substring(l);for(var t=0;t<j.length;t++){if(j[t]+z.length>u){if(j[t]+z.length<l){j[t]=u-z.length}else{j[t]-=l-u}}}}}if(w[0]!==DIFF_DELETE){k+=w[1].length}}}}}r=r.substring(z.length,r.length-z.length);return r};return d})();window.jsondiff=c}).call(this);