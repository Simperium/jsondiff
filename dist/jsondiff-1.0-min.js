(function(){var c,b=function(d,e){return function(){return d.apply(e,arguments)}},a={}.hasOwnProperty;c=(function(){function d(){this.patch_apply_with_offsets=b(this.patch_apply_with_offsets,this);this.transform_object_diff=b(this.transform_object_diff,this);this.transform_list_diff_dmp=b(this.transform_list_diff_dmp,this);this.transform_list_diff=b(this.transform_list_diff,this);this.apply_diff=b(this.apply_diff,this);this.apply_object_diff_with_offsets=b(this.apply_object_diff_with_offsets,this);this.apply_object_diff=b(this.apply_object_diff,this);this.apply_list_diff_dmp=b(this.apply_list_diff_dmp,this);this.apply_list_diff=b(this.apply_list_diff,this);this.diff=b(this.diff,this);this.object_diff=b(this.object_diff,this);this._text_to_array=b(this._text_to_array,this);this._serialize_to_text=b(this._serialize_to_text,this);this.list_diff_dmp=b(this.list_diff_dmp,this);this.list_diff=b(this.list_diff,this);this._common_suffix=b(this._common_suffix,this);this._common_prefix=b(this._common_prefix,this);this.object_equals=b(this.object_equals,this);this.list_equals=b(this.list_equals,this);this.equals=b(this.equals,this);this.deepCopy=b(this.deepCopy,this);this.typeOf=b(this.typeOf,this);this.entries=b(this.entries,this);this.dmp=new diff_match_patch()}d.prototype.entries=function(g){var e,h,f;h=0;for(e in g){if(!a.call(g,e)){continue}f=g[e];h++}return h};d.prototype.typeOf=function(f){var e;e=typeof f;if(e==="object"){if(f){if(typeof f.length==="number"&&typeof f.splice==="function"&&!f.propertyIsEnumerable("length")){e="array"}}else{e="null"}}return e};d.prototype.deepCopy=function(e){return JSON.parse(JSON.stringify(e))};d.prototype.equals=function(g,f){var e,h;e=this.typeOf(g);h=this.typeOf(f);if(e==="boolean"&&h==="number"){return Number(g)===f}if(e==="number"&&h==="boolean"){return Number(f)===g}if(e!==h){return false}if(e==="array"){return this.list_equals(g,f)}else{if(e==="object"){return this.object_equals(g,f)}else{return g===f}}};d.prototype.list_equals=function(f,e){var h,g,j;h=f.length;if(h!==e.length){return false}for(g=j=0;0<=h?j<h:j>h;g=0<=h?++j:--j){if(!this.equals(f[g],e[g])){return false}}return true};d.prototype.object_equals=function(f,e){var g;for(g in f){if(!a.call(f,g)){continue}if(!(g in e)){return false}if(!this.equals(f[g],e[g])){return false}}for(g in e){if(!a.call(e,g)){continue}if(!(g in f)){return false}}return true};d.prototype._common_prefix=function(f,e){var g,h,j;h=Math.min(f.length,e.length);for(g=j=0;0<=h?j<h:j>h;g=0<=h?++j:--j){if(!this.equals(f[g],e[g])){return g}}return h};d.prototype._common_suffix=function(f,e){var g,l,k,h,j;l=f.length;k=e.length;h=Math.min(f.length,e.length);if(h===0){return 0}for(g=j=0;0<=h?j<h:j>h;g=0<=h?++j:--j){if(!this.equals(f[l-g-1],e[k-g-1])){return g}}return h};d.prototype.list_diff=function(p,o,n){var m,k,h,f,g,e,l,j;if((n!=null)&&"item" in n){n=n.item}else{n=null}m={};h=p.length;f=o.length;e=this._common_prefix(p,o);l=this._common_suffix(p,o);p=p.slice(e,h-l);o=o.slice(e,f-l);h=p.length;f=o.length;g=Math.max(h,f);for(k=j=0;0<=g?j<=g:j>=g;k=0<=g?++j:--j){if(k<h&&k<f){if(!this.equals(p[k],o[k])){m[k+e]=this.diff(p[k],o[k],n)}}else{if(k<h){m[k+e]={o:"-"}}else{if(k<f){m[k+e]={o:"+",v:o[k]}}}}}return m};d.prototype.list_diff_dmp=function(l,k,j){var h,g,m,i,f,e;f=l.length;e=k.length;h=this._serialize_to_text(l);g=this._serialize_to_text(k);i=this.dmp.diff_lineMode_(h,g);this.dmp.diff_cleanupEfficiency(i);m=this.dmp.diff_toDelta(i);return m};d.prototype._serialize_to_text=function(f){var g,h,j,e;h="";for(j=0,e=f.length;j<e;j++){g=f[j];h+=""+(JSON.stringify(g))+"\n"}return h};d.prototype._text_to_array=function(h){var g,f,e;g=[];f=h.split("\n");g=(function(){var k,j,i;i=[];for(k=0,j=f.length;k<j;k++){e=f[k];if(e.length>0){i.push(JSON.parse(e))}}return i})();return g};d.prototype.object_diff=function(f,e,j){var i,h,g;i={};if((j!=null)&&"attributes" in j){j=j.attributes}if((f==null)||(e==null)){return{}}for(h in f){if(!a.call(f,h)){continue}if((j!=null)&&h in j){g=j[h]}else{g=null}if(h in e){if(!this.equals(f[h],e[h])){i[h]=this.diff(f[h],e[h],g)}}else{i[h]={o:"-"}}}for(h in e){if(!a.call(e,h)){continue}if(!(h in f)&&(e[h]!=null)){i[h]={o:"+",v:e[h]}}}return i};d.prototype.diff=function(h,g,j){var i,f,e;if(this.equals(h,g)){return{}}if((j!=null)&&"attributes" in j){j=j.attributes}if((j!=null)&&"otype" in j){f=j.otype;switch(f){case"replace":return{o:"r",v:g};case"list":return{o:"L",v:this.list_diff(h,g,j)};case"list_dmp":return{o:"dL",v:this.list_diff_dmp(h,g,j)};case"integer":return{o:"I",v:g-h};case"string":i=this.dmp.diff_main(h,g);if(i.length>2){this.dmp.diff_cleanupEfficiency(i)}if(i.length>0){return{o:"d",v:this.dmp.diff_toDelta(i)}}}}e=this.typeOf(h);if(e!==this.typeOf(g)){return{o:"r",v:g}}switch(e){case"boolean":return{o:"r",v:g};case"number":return{o:"r",v:g};case"array":return{o:"r",v:g};case"object":return{o:"O",v:this.object_diff(h,g,j)};case"string":i=this.dmp.diff_main(h,g);if(i.length>2){this.dmp.diff_cleanupEfficiency(i)}if(i.length>0){return{o:"d",v:this.dmp.diff_toDelta(i)}}}return{}};d.prototype.apply_list_diff=function(o,e){var n,m,p,q,i,h,w,j,r,v,t,l,f,u,k,g;r=this.deepCopy(o);h=[];n=[];for(w in e){if(!a.call(e,w)){continue}h.push(w);h.sort()}for(f=0,u=h.length;f<u;f++){i=h[f];j=e[i];t=((function(){var y,x,s;s=[];for(y=0,x=n.length;y<x;y++){l=n[y];if(l<=i){s.push(l)}}return s})()).length;v=i-t;switch(j.o){case"+":[].splice.apply(r,[v,(v-1)-v+1].concat(k=j.v)),k;break;case"-":[].splice.apply(r,[v,v-v+1].concat(g=[])),g;n[n.length]=v;break;case"r":r[v]=j.v;break;case"I":r[v]+=j.v;break;case"L":r[v]=this.apply_list_diff(r[v],j.v);break;case"dL":r[v]=this.apply_list_diff_dmp(r[v],j.v);break;case"O":r[v]=this.apply_object_diff(r[v],j.v);break;case"d":m=this.dmp.diff_fromDelta(r[v],j.v);p=this.dmp.patch_make(r[v],m);q=this.dmp.patch_apply(p,r[v]);r[v]=q[0]}}return r};d.prototype.apply_list_diff_dmp=function(h,j){var e,g,f,i;i=this._serialize_to_text(h);e=this.dmp.diff_fromDelta(i,j);g=this.dmp.patch_make(i,e);f=this.dmp.patch_apply(g,i);return this._text_to_array(f[0])};d.prototype.apply_object_diff=function(f,h){var e,i,g;g=this.deepCopy(f);for(e in h){if(!a.call(h,e)){continue}i=h[e];if(i.o==="-"){delete g[e]}else{g[e]=this.apply_diff(g[e],i)}}return g};d.prototype.apply_object_diff_with_offsets=function(m,h,k,f){var e,n,i,l,g,j;j=this.deepCopy(m);for(l in h){if(!a.call(h,l)){continue}g=h[l];switch(g.o){case"+":j[l]=g.v;break;case"-":delete j[l];break;case"r":j[l]=g.v;break;case"I":j[l]+=g.v;break;case"L":j[l]=this.apply_list_diff(j[l],g.v);break;case"O":j[l]=this.apply_object_diff(j[l],g.v);break;case"d":e=this.dmp.diff_fromDelta(j[l],g.v);n=this.dmp.patch_make(j[l],e);if(l===k){j[l]=this.patch_apply_with_offsets(n,j[l],f)}else{i=this.dmp.patch_apply(n,j[l]);j[l]=i[0]}}}return j};d.prototype.apply_diff=function(f,i){var e,h,g;switch(i.o){case"+":return i.v;case"-":return null;case"r":return i.v;case"I":return f+i.v;case"L":return this.apply_list_diff(f,i.v);case"dL":return this.apply_list_diff_dmp(f,i.v);case"O":return this.apply_object_diff(f,i.v);case"d":e=this.dmp.diff_fromDelta(f,i.v);h=this.dmp.patch_make(f,e);g=this.dmp.patch_apply(h,f);return g[0]}};d.prototype.transform_list_diff=function(u,g,q,o){var i,t,w,n,h,r,f,j,k,e,v,m,p,l;i={};w=[];t=[];if((o!=null)&&"item" in o){o=o.item}else{o=null}for(h in g){if(!a.call(g,h)){continue}j=g[h];h=parseInt(h);if(j.o==="+"){w.push(h)}if(j.o==="-"){t.push(h)}}r=0;f=0;for(h in u){if(!a.call(u,h)){continue}j=u[h];h=parseInt(h);v=((function(){var y,x,s;s=[];for(y=0,x=w.length;y<x;y++){l=w[y];if(l<h){s.push(l)}}return s})()).length;e=((function(){var y,x,s;s=[];for(y=0,x=t.length;y<x;y++){l=t[y];if(l<h){s.push(l)}}return s})()).length;if(r+1===h){h=h+f}else{h=h+v-e}r=h;f=v-e;m=String(h);i[m]=j;if(m in g){if(j.o==="+"&&g[h]["o"]==="+"){continue}else{if(j.o==="-"){if(g[h]["o"]==="-"){delete i[m]}}else{if(g[h]["o"]==="-"){if(j.o==="r"){i[m]={o:"+",v:j.v}}if(j.o===!"+"){i[m]={o:"+",v:this.apply_object_diff(q[m],j.v)}}}else{p={};p[m]=j;k={};k[m]=g[h];n=this.transform_object_diff(p,k,q,o);i[m]=n[m]}}}}}return i};d.prototype.transform_list_diff_dmp=function(m,i,n,j){var f,g,h,k,e,l;l=this._serialize_to_text(n);f=this.dmp.patch_make(l,this.dmp.diff_fromDelta(l,m));h=this.dmp.patch_make(l,this.dmp.diff_fromDelta(l,i));k=(this.dmp.patch_apply(h,l))[0];g=(this.dmp.patch_apply(f,k))[0];if(g!==k){e=this.dmp.diff_lineMode_(k,g);if(e.length>2){this.dmp.diff_cleanupEfficiency(e)}if(e.length>0){return this.dmp.diff_toDelta(e)}}return""};d.prototype.transform_object_diff=function(q,k,t,m){var f,h,r,l,j,n,o,e,p,g,i;r=this.deepCopy(q);if((m!=null)&&"attributes" in m){m=m.attributes}for(p in q){if(!a.call(q,p)){continue}l=q[p];if(!(p in k)){continue}if((m!=null)&&"attributes" in m){m=m.attributes;if((m!=null)&&p in m){m=m[p]}else{m=null}}else{m=null}g=t[p];o=k[p];if(l.o==="+"&&o.o==="+"){if(this.equals(l.v,o.v)){delete r[p]}else{r[p]=this.diff(o.v,l.v,m)}}else{if(l.o==="-"&&o.o==="-"){delete r[p]}else{if(o.o==="-"&&((i=l.o)!=="+"&&i!=="-")){r[p]={o:"+"};r[p]["v"]=this.apply_diff(g,l)}else{if(l.o==="O"&&o.o==="O"){r[p]={o:"O",v:this.transform_object_diff(l.v,o.v,g,m)}}else{if(l.o==="L"&&o.o==="L"){r[p]={o:"L",v:this.transform_list_diff(l.v,o.v,g,m)}}else{if(l.o==="dL"&&o.o==="dL"){r[p]={o:"dL",v:this.transform_list_diff_dmp(l.v,o.v,g,m)}}else{if(l.o==="d"&&o.o==="d"){delete r[p];f=this.dmp.patch_make(g,this.dmp.diff_fromDelta(g,l.v));j=this.dmp.patch_make(g,this.dmp.diff_fromDelta(g,o.v));n=(this.dmp.patch_apply(j,g))[0];h=(this.dmp.patch_apply(f,n))[0];if(h!==n){e=this.dmp.diff_main(n,h);if(e.length>2){this.dmp.diff_cleanupEfficiency(e)}if(e.length>0){r[p]={o:"d",v:this.dmp.diff_toDelta(e)}}}}}}}}}}return r}};d.prototype.patch_apply_with_offsets=function(e,g,f){};d.prototype.patch_apply_with_offsets=function(m,r,j){if(m.length==0){return r}m=this.dmp.patch_deepCopy(m);var z=this.dmp.patch_addPadding(m);r=z+r+z;this.dmp.patch_splitMax(m);var v=0;for(var p=0;p<m.length;p++){var g=m[p].start2+v;var q=this.dmp.diff_text1(m[p].diffs);var s;var f=-1;if(q.length>this.dmp.Match_MaxBits){s=this.dmp.match_main(r,q.substring(0,this.dmp.Match_MaxBits),g);if(s!=-1){f=this.dmp.match_main(r,q.substring(q.length-this.dmp.Match_MaxBits),g+q.length-this.dmp.Match_MaxBits);if(f==-1||s>=f){s=-1}}}else{s=this.dmp.match_main(r,q,g)}if(s==-1){v-=m[p].length2-m[p].length1}else{v=s-g;var o;if(f==-1){o=r.substring(s,s+q.length)}else{o=r.substring(s,f+this.dmp.Match_MaxBits)}var e=this.dmp.diff_main(q,o,false);if(q.length>this.dmp.Match_MaxBits&&this.dmp.diff_levenshtein(e)/q.length>this.dmp.Patch_DeleteThreshold){}else{var k=0;var h;for(var n=0;n<m[p].diffs.length;n++){var w=m[p].diffs[n];if(w[0]!==this.dmp.DIFF_EQUAL){h=this.dmp.diff_xIndex(e,k)}if(w[0]===this.dmp.DIFF_INSERT){r=r.substring(0,s+h)+w[1]+r.substring(s+h);for(var t=0;t<j.length;t++){if(j[t]+z.length>s+h){j[t]+=w[1].length}}}else{if(w[0]===this.dmp.DIFF_DELETE){var u=s+h;var l=s+this.dmp.diff_xIndex(e,k+w[1].length);r=r.substring(0,u)+r.substring(l);for(var t=0;t<j.length;t++){if(j[t]+z.length>u){if(j[t]+z.length<l){j[t]=u-z.length}else{j[t]-=l-u}}}}}if(w[0]!==this.dmp.DIFF_DELETE){k+=w[1].length}}}}}r=r.substring(z.length,r.length-z.length);return r};return d})();window.jsondiff=c}).call(this);